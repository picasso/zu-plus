(()=>{"use strict";(()=>{const e=window.lodash,l=window.wp.i18n,s={options:{debug_mode:{label:(0,l.__)('Activate "Debug Mode"',"zu-plus"),help:(0,l.__)("All debug functions like *zu_log()* will be activated. Otherwise all calls will be muted.","zu-plus")},dup_page:{label:(0,l.__)('Activate "Duplicate Page & Post"',"zu-plus"),help:(0,l.__)("Allows duplicate Posts, Pages and Custom Posts using single click.","zu-plus")},cookie_notice:{label:(0,l.__)('Activate "Cookie Notice"',"zu-plus"),help:(0,l.__)("Allows you to inform users that the site uses cookies and to comply with the EU GDPR regulations.","zu-plus"),depends:!1},disable_cached:{divider:2,label:(0,l.__)("Disable cached shortcodes","zu-plus"),help:(0,l.__)("Disabling caching will result in memory savings, but relatively small (**not recommended**).","zu-plus")},disable_admenu:{label:(0,l.__)("Disable admin menu changes","zu-plus"),help:(0,l.__)("Disable position changes and renaming items in the **Admin** menu.","zu-plus")},remove_autosave:{label:(0,l.__)('Remove "autosave" notices',"zu-plus"),help:(0,l.__)("Removes Wordpress *autosave* and *backup* notices which could be very annoying.\nYou should understand what you are doing.","zu-plus")}},debug:{use_kint:{label:(0,l.__)("Use KINT","zu-plus"),help:(0,l.__)("[Kint for PHP](https://kint-php.github.io/kint/) is a tool designed to present debugging data in the best way possible graphically.","zu-plus")},classname_only:{label:(0,l.__)("Log only class names","zu-plus"),help:(0,l.__)("Only *class names* will be logged instead of a detailed data of the class instance (its props and methods).","zu-plus")},avoid_ajax:{label:(0,l.__)("Avoid AJAX calls","zu-plus"),help:(0,l.__)("All logging inside AJAX calls (via **admin-ajax.php**) will be ignored.","zu-plus")},debug_bar:{label:(0,l.__)('Use "Debug Bar"',"zu-plus"),help:(0,l.__)("Works only if [Query Monitor](https://github.com/johnbillion/query-monitor) is activated.","zu-plus"),divider:2},debug_frontend:{label:(0,l.__)('Support "Debug Bar" on front-end',"zu-plus"),help:(0,l.__)("Enable debugging JS & CSS on the front side. Used only with Debug Bar.","zu-plus"),depends:"debug_bar"},convert_html:{label:(0,l.__)('HTML entities in "Debug Bar"',"zu-plus"),help:(0,l.__)("All characters which have HTML character entity equivalents are translated into these entities.","zu-plus"),depends:"debug_bar"},instant_caching:{label:(0,l.__)("Ð¡aching for one page only","zu-plus"),help:(0,l.__)("All logs will be stored in the memory of **the current page** and will not be available after the refresh.","zu-plus")},write_file:{label:(0,l.__)("Write log to file","zu-plus"),help:(0,l.__)("If unchecked, only the information for `Debug Bar` will be saved.","zu-plus")},flywheel_log:{label:(0,l.__)('Use "Local" logfile location',"zu-plus"),help:(0,l.__)("[Local by Flywheel](https://localwp.com//) is a free development application to develop WordPress locally.","zu-plus"),depends:"write_file"},overwrite:{label:(0,l.__)("Overwrite logs","zu-plus"),help:(0,l.__)("The log data will be **overwritten on every reload**, otherwise it will be appended to the file/Debug Bar.","zu-plus"),depends:["||","debug_bar","write_file"]},debug_menus:{label:(0,l.__)("Log menu order","zu-plus"),help:(0,l.__)("The current order of items in **menus** and **submenus** will be logged.","zu-plus"),divider:2},debug_plugins:{label:(0,l.__)("Log plugins order","zu-plus"),help:(0,l.__)("The current order of all activated **plugins** will be logged.","zu-plus")}},debugSelect:{dump_method:{id:"dump_method",label:(0,l.__)("Method for outputting debug data","zu-plus"),help:(0,l.__)("Choose which method will be used to output **human-readable** information about a logged data.\nAttention! `var_export` does not handle circular references (**try another option in case of error**).","zu-plus"),options:[{value:"var_export",label:(0,l.__)('"var_export" function',"zu-plus")},{value:"print_r",label:(0,l.__)('"print_r" function',"zu-plus")},{value:"dump_var",label:(0,l.__)('"dump_var" function',"zu-plus")}],defaultValue:"var_export",depends:"!use_kint",divider:2}},duplicate:{action:(0,l.__)("Duplicate Menu","zu-plus"),help:(0,l.__)("Here you can easily duplicate any of your **WordPress Menus**. Just follow the instructions.","zu-plus"),select:(0,l.__)("Select menu to duplicate","zu-plus"),input:(0,l.__)("And enter a name for menu","zu-plus"),button:(0,l.__)("Duplicate","zu-plus")},info:{lastest:(0,l.__)("Lastest Version","zu-plus"),version:(0,l.__)("Active Version","zu-plus"),loaded:(0,l.__)("Loaded From","zu-plus"),error:(0,l.__)("Ajax request failed","zu-plus")},panels:{debug:{value:!0,label:(0,l.__)("Debug Mode Settings","zu-plus"),depends:"debug_mode"},cookie_notice:{value:!0,label:(0,l.__)("Cookie Notice","zu-plus"),depends:"cookie_notice"},core_info:{value:!1,label:(0,l.__)("Framework Info","zu-plus")}}},t=window.ReactJSXRuntime,{toggleOption:n,selectOption:i}=wp.zukit.render,{ZukitPanel:a}=wp.zukit.components,o="zuplus_debug_options",u=({labels:e,selectLabels:l,options:s,updateOptions:u})=>!1===s.debug_mode?null:(0,t.jsxs)(a,{className:"__debug",id:"debug",options:s,initialOpen:!0,children:[n(e,s,u,o),i(l.dump_method,s,u,o)]}),r=window.wp.components,c=window.wp.element,{close:p}=wp.zukit.icons,{ZukitSidebar:d,AdvTextControl:_}=wp.zukit.components,h="welcome-widgets-menus",b=({labels:l,menus:s,ajaxAction:n})=>{const[i,a]=(0,c.useState)(!1),[o,u]=(0,c.useState)(""),[b,g]=(0,c.useState)(0),[m,v]=(0,c.useState)(s),f=(0,c.useRef)(null),z=(0,c.useCallback)((()=>{a(!i)}),[i]),w=(0,c.useCallback)((()=>{a(!1),g(0),u("")}),[]),k=(0,c.useCallback)((()=>{w(),n({action:"zuplus_duplicate_menu",value:{id:b,title:o}},(e=>v(e)))}),[b,o,n,w]),x=(0,c.useCallback)((l=>{g(l);const s=(0,e.get)((0,e.find)(m,{id:l}),"title","");u(s)}),[m]);return(0,e.isEmpty)(s)?null:(0,t.jsxs)(d.MoreActions,{children:[(0,t.jsx)(d.ActionButton,{color:"green",icon:h,onClick:z,label:l.action,help:l.help,ref:f}),i&&(0,t.jsx)(r.Popover,{position:"middle left",noArrow:!1,onClose:w,anchorRect:f.current?f.current.getBoundingClientRect():null,focusOnMount:!1,children:(0,t.jsxs)("div",{className:"zuplus_dup_menu",children:[(0,t.jsxs)("div",{className:"__title",children:[(0,t.jsx)("div",{className:"components-menu-group__label",children:l.select}),(0,t.jsx)(r.Button,{className:"__close",icon:p,onClick:w})]}),(0,t.jsx)(r.NavigableMenu,{className:"__menu",children:(0,e.map)(m,(e=>(0,t.jsx)(r.MenuItem,{icon:e.id===b?"yes":null,isSelected:e.id===b,onClick:()=>x(e.id),children:e.title},e.id)))}),(0,t.jsxs)("div",{className:"__input",children:[(0,t.jsx)("div",{className:"components-menu-group__label",children:l.input}),(0,t.jsx)(_,{showTooltip:!1,value:o,onChange:e=>u(e),withoutValues:(0,e.map)(m,(e=>e.title)),fallbackValue:"menu"}),(0,t.jsx)(r.Button,{isPrimary:!0,disabled:0===b||(0,e.isEmpty)(o),className:"__submit",icon:h,onClick:k,children:l.button})]})]})})]})},{compareVersions:g,mergeClasses:m,simpleMarkdown:v}=wp.zukit.utils,{ZukitPanel:f,ZukitTable:z}=wp.zukit.components,w=({labels:l,ajaxAction:s,noticeOperations:n})=>{const{createNotice:i}=n,[a,o]=(0,c.useState)(!1),[u,p]=(0,c.useState)(null),[d,_]=(0,c.useState)(null),[h,b]=(0,c.useState)(null),[w,k]=(0,c.useState)({}),[x,j]=z.useDynamicCells(),y=(0,c.useCallback)(((s,t,n,a)=>{const o=String(null===s?"https://github.com/picasso/zukit":s).match(/https?:\/\/github.com\/(.*?)\/?$/im),u=(0,e.get)(o,[1],null);if(null===u)return j("repository not found",t,"content");const r=`https://api.github.com/repos/${u}/contents/package.json`;fetch(r).then((e=>404===e.status?(null===s?_("repo unavailable"):j("repo unavailable (private?)",t,"content"),{}):e.json())).then((l=>{if(!(0,e.isEmpty)(l)){const i=(0,e.get)(l,"content","{}"),o=JSON.parse(atob(i)),u=(0,e.get)(o,"version","?");if(null===s)_(u);else{const e=g(u,n)>0;j(e?`update available \`${u}\``:"lastest version",t,"content"),j(e?"less":"great",a,"className")}}})).catch((e=>{const s=r.replace("https://api.github.com/repos","...");i({status:"error",content:v(`${l.error} [*${s}*]: **${e}**`,{raw:!0}),isDismissible:!0,__unstableHTML:!0})}))}),[j,i,l.error]),A=(0,c.useCallback)((()=>{null===u&&(s("zuplus_zukit_info",(l=>{p((0,e.defaults)(l,{version:"undefined",from:"unknown",plugins:[]}))})),y(null,_)),o((e=>!e))}),[s,u,y]),C=(0,c.useCallback)(((e,l,s)=>{const t=g(e,l)>0;j(t?"less":"great",s,"className")}),[j]),N=(0,c.useCallback)((l=>{const{row:s,id:t,ref:n,github:i,current:a,linked:o}=l||{};"lastest"===t?void 0===(0,e.get)(x,n)&&y(i,n,a,`${s}:${o}`):"framework"===t&&(null===d?k((e=>({...e,[n]:a}))):C(d,a,n))}),[x,d,C,y]);return(0,c.useEffect)((()=>{null!==d&&(0,e.forEach)(w,((e,l)=>C(d,e,l)))}),[d,w,C]),(0,c.useEffect)((()=>{let e=null;if(null!==d&&u){const l=u.version.replace(/[^\d|.]+/,"");e=g(d,l)>0?"less":l===u.version?"great":"active"}b(e)}),[d,u]),(0,t.jsxs)(f,{id:"core_info",initialOpen:a,onToggle:A,children:[null!==u&&(0,t.jsxs)("div",{className:"zuplus_core_info",children:[(0,t.jsxs)("ul",{className:"__info",children:[(0,t.jsxs)("li",{className:"__lastest",children:[(0,t.jsx)("strong",{children:l.lastest}),d?(0,t.jsx)("span",{className:"__ver great",children:d}):(0,t.jsx)(r.Spinner,{})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:l.version}),(0,t.jsx)("span",{className:m("__ver",h),children:u.version})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:l.loaded}),(0,t.jsx)("span",{className:"__path",children:u.from})]})]}),(0,t.jsx)(z,{fixed:!0,config:u.plugins.config,body:u.plugins.rows,onDynamic:N,dynamic:x})]}),null===u&&(0,t.jsx)(z,{loading:!0})]})},{renderPage:k,toggleOption:x}=wp.zukit.render,{ZukitPanel:j}=wp.zukit.components,{options:y,debug:A,debugSelect:C,duplicate:N,info:S}=s;k("zuplus",{edit:({wp:l,title:s,options:n,updateOptions:i,ajaxAction:a,moreData:o,noticeOperations:r})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{title:s,children:x(y,n,i)}),(0,t.jsx)(u,{wp:l,labels:A,selectLabels:C,options:n,updateOptions:i}),(0,t.jsx)(b,{labels:N,menus:(0,e.get)(o,"menus",null),ajaxAction:a}),(0,t.jsx)(w,{labels:S,ajaxAction:a,noticeOperations:r})]}),panels:s.panels})})()})();